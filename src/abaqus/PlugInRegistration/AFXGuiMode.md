This class is the abstract base class for modes.

![](https://help.3ds.com/2023/English/DSSIMULIA_Established/SIMACAERefImages/gui-afxguimode.png)

### AFXGuiMode(owner)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Constructor.

| **Argument** | **Type** | **Default** | **Description** |
| owner | AFXGuiObjectManager |   | Owner (a module or a toolset) of the mode. |

### activate()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Performs the necessary tasks when the mode is activated.

Reimplemented in AFXForm, and AFXProcedure.

### cancel(tgt=None, msg=0)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Requests a cancellation of the mode. When the cancel operation completes, successfully or not, the target will be sent the given message. The message data pointer will be non-zero for successful cancellation and zero if the cancel operation was abandoned for some purpose.

| **Argument** | **Type** | **Default** | **Description** |
| tgt | FXObject | None | Completion message target. |
| msg | Int | 0 | Completion message ID. |

### commit()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Performs the necessary tasks when a dialog box of the mode commits.

Implemented in AFXForm, and AFXProcedure.

### continueMode()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Virtual method that must be defined in the derived class--used to get the next dialog box or step in the mode.

Implemented in AFXForm, and AFXProcedure.

### deactivate()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Performs the necessary tasks when the mode is deactivated.

Reimplemented in AFXProcedureForm, and AFXProcedure.

### destroyDialogs()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Destroys the associated dialogs when the mode is deactivated. The exact behavior of this function is controlled by the return value of dialog box's getDeactivateAction() method.

### doCustomChecks()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

This class provides an empty implementation of this method; the derived class should redefine this method to perform its specific verifications on the user input.

### doCustomTasks()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

This class provides an empty implementation of this method, which is called after the commands are processed successfully. The derived class should redefine this method to perform its specific tasks such as writing a confirmation message to the main window.

### getCommandString()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Returns a string containing a list of commands generated by each command associated with the mode.

### getCurrentDialog()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Returns the dialog box currently posted by the mode (may be NULL).

### getModeName()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Returns the mode's name.

### getOwner()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Returns the mode's owner (a module or a tool set).

### getPressedButtonId()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Returns the ID of the button that the user pressed in the currently posted dialog box.

### handleException(exc)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Posts a dialog box with an error message for the given exception. The derived class should redefine this method if it needs to handle the exception differently.

| **Argument** | **Type** | **Default** | **Description** |
| exc | nex_Exception |   | Exception. |

### handleKeywordException(exc)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Posts a dialog box with an error message for the given exception thrown by a keyword during data validation.

| **Argument** | **Type** | **Default** | **Description** |
| exc | nex_Exception |   | Exception. |

### isKeyword(object)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Returns True if the object is one of the mode's keywords.

| **Argument** | **Type** | **Default** | **Description** |
| object | FXObject |   |   |

### issueCommands(writeToReplay=True, writeToJournal=False)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Generates commands based on the current state, sends the commands, and deactivates the mode if necessary. If the commands did not complete successfully, a dialog box will be posted with an error message.

| **Argument** | **Type** | **Default** | **Description** |
| writeToReplay | Bool | True | True if commands should be written to the replay file; False if not. |
| writeToJournal | Bool | False | True if commands should be written to the journal file; False if not. |

### okToCancel()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Method indicating if the dialog box should be cancelled if the context changes (for example, if the user opens a new database); the base class implementation returns True indicating it is OK to cancel the mode, derived classes can overwrite this method and return False to prevent the mode from being canceled during a context change.

### onKeywordsUpdated(command)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Hook method called whenever the command's object changes in Kernel. By default this function does nothing.

| **Argument** | **Type** | **Default** | **Description** |
| command | AFXGuiCommand |   | Command for which the query fired. |

### registerDefaultsObject(command, objectName)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Registers the defaults object that will be queried when the Defaults button in the dialog box is pressed.

| **Argument** | **Type** | **Default** | **Description** |
| command | AFXGuiCommand |   | Command whose keywords to be populated with the defaults object values. |
| objectName | String |   | Name of defaults object to be queried. |

### registerQueries()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Registers queries with the GUI infrastructure for the mode's active commands and unregisters queries for the inactive ones.

### removeAllProxies()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Unregisters queries and deletes all the associated proxies.

### sendCommandString(command, writeToReplay=True, writeToJournal=False)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Sends the given command string (which can contain multiple commands, separated by command delimiters).

| **Argument** | **Type** | **Default** | **Description** |
| command | String |   | Command string. |
| writeToReplay | Bool | True | True if commands should be written to the replay file; False if not. |
| writeToJournal | Bool | False | True if commands should be written to the journal file; False if not. |

### setModeName(name)  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Sets the mode's name.

| **Argument** | **Type** | **Default** | **Description** |
| name | String |   |   |

### unregisterAllQueries()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Unregisters queries with the GUI infrastructure for all the mode's commands.

### verify()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Verifies each active command associated with the mode and throws an exception if any command contains keywords with invalid data.

### verifyCurrentKeywordValues()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Checks whether keywords of active commands for the current dialog box contain valid data and, if not, posts a dialog box with an error message.

Reimplemented in AFXProcedure.

### verifyKeywordValues()  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

Checks whether keywords of active commands contain valid data and, if not, posts a dialog box with an error message.

###   
Class flags  
![](https://help.3ds.com/2023/English/DSSIMULIA_Established/IconsReference/butix_top_wline.png)

### 

**Message ID's.**

| **ID\_DESTROY\_DIALOGS** | 

Used to destroy dialogs.

 |
| **ID\_HANDLE\_BAILOUT** | 

Used to handle bailout.

 |